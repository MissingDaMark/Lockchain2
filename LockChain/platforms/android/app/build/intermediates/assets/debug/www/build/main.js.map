{"version":3,"sources":["../../src/services/locks.ts","../../src/pages/signin/signin.ts","../../src/pages/signup/signup.ts","../../src/pages/add-lock/add-lock.ts","../../src/pages/add-user/add-user.ts","../../src/pages/edit-lock/edit-lock.ts","../../src/pages/remove-user/remove-user.ts","../../src/pages/welcome/welcome.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/services/auth.ts","../../src/pages/home/home.ts","../../src/pages/add-new-lock/add-new-lock.ts","../../src/pages/edit-permissions/edit-permissions.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/services/user.ts","../../src/models/lock.ts","../../src/models/uid.ts","../../src/app/app.component.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { AuthService } from './auth';\r\nimport { Lock } from '../models/lock';\r\nimport 'rxjs/Rx';\r\nimport { Http, Response } from '@angular/http';\r\nimport { AlertController, LoadingController } from 'ionic-angular';\r\n\r\n\r\n@Injectable()\r\nexport class LocksService{\r\n    public locks: Lock[] = [];    \r\n    constructor(private http: Http, private authService: AuthService, private alertCtrl: AlertController, private loadingCtrl: LoadingController){\r\n\r\n    }\r\n    \r\n    addLock(lock_name: string, public_hash: string, private_hash: string){\r\n        this.locks.push(new Lock(lock_name, public_hash, private_hash));\r\n    }\r\n    \r\n    removeLock(lock_to_remove: string){\r\n        for (var i = this.locks.length - 1; i >= 0; --i) {\r\n            if (this.locks[i].lock_name == lock_to_remove) {\r\n                this.locks.splice(i,1);\r\n            }\r\n        }  \r\n    }\r\n\r\n    removeLocks(){\r\n        this.locks = [];\r\n    }\r\n\r\n    getLocks(){\r\n        return this.locks.slice();\r\n    }\r\n\r\n    storeLocks(token: string){   \r\n        const userID = this.authService.getActiveUser().uid;\r\n        return this.http.put('https://lockchain-94649.firebaseio.com/' + userID + '/locks.json?auth='+token, this.locks)\r\n            .map((res: Response) => {\r\n                return res.json();\r\n            })\r\n    }\r\n\r\n    fetchLocks(token: string){\r\n        const userID = this.authService.getActiveUser().uid;\r\n        return this.http.get('https://lockchain-94649.firebaseio.com/' + userID + '/locks.json?auth='+token)\r\n            .map((res: Response) => {\r\n                const locks: Lock[] = res.json() ? res.json() : [];\r\n                return res.json();\r\n            })\r\n            .do(\r\n                (locks: Lock[]) => {\r\n                    if(locks){\r\n                        this.locks = locks;\r\n                    }\r\n                    else{\r\n                        this.locks = [];\r\n                    }\r\n                }\r\n            )\r\n    }\r\n\r\n    private handleError(errorMessage: string){\r\n        const alert = this.alertCtrl.create({\r\n          title: 'An error occured!',\r\n          message: errorMessage,\r\n          buttons: ['Ok']\r\n        });\r\n        alert.present();\r\n      }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/locks.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, AlertController } from 'ionic-angular';\nimport { NgForm } from '@angular/forms';\nimport { AuthService } from '../../services/auth';\nimport { UserService } from '../../services/user';\n\n@IonicPage()\n@Component({\n  selector: 'page-signin',\n  templateUrl: 'signin.html',\n})\nexport class SigninPage {\n\n  constructor(public navCtrl: NavController, \n    public navParams: NavParams,\n    public authService: AuthService, \n    private loadingCtrl: LoadingController, \n    public alertCtrl: AlertController,\n    public usersService: UserService) {\n}\n\n  onSignin(form: NgForm){\n    const loading = this.loadingCtrl.create({\n      content: 'Signing you in...'\n    });\n    loading.present();\n    this.authService.signin(form.value.email, form.value.password)\n      .then(data => {\n        loading.dismiss();\n    }\n  )\n      .catch(error => {\n        loading.dismiss();\n        const alert = this.alertCtrl.create({\n          title: 'Signin Failed!',\n          message: 'The email/password you entered is invalid, please try again!',\n          buttons: ['Ok']\n        });\n        alert.present();\n      });\n    } \n\n    private handleError(errorMessage: string){\n      const alert = this.alertCtrl.create({\n        title: 'An error occured!',\n        message: errorMessage,\n        buttons: ['Ok']\n      });\n      alert.present();\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signin/signin.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, LoadingController, AlertController } from 'ionic-angular';\r\nimport { AuthService } from '../../services/auth';\r\nimport { NgForm } from '@angular/forms';\r\nimport { UserService } from '../../services/user';\r\nimport { sha256, sha224 } from 'js-sha256';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-signup',\r\n  templateUrl: 'signup.html',\r\n})\r\nexport class SignupPage {\r\n  constructor(public navCtrl: NavController, \r\n              public navParams: NavParams,\r\n              public authService: AuthService, \r\n              private loadingCtrl: LoadingController, \r\n              public alertCtrl: AlertController,\r\n              public userService: UserService) {\r\n  }\r\n\r\n  onSignupSubmit(form: NgForm){\r\n    const loading = this.loadingCtrl.create({\r\n      content: 'Signing you up...'\r\n    });\r\n    loading.present();\r\n    this.userService.getUsers()\r\n    .subscribe(\r\n      () => console.log('works'),\r\n      error => {\r\n        this.handleError(error.message);\r\n      }\r\n    );\r\n    if(this.userService.uIds.some(uIds => uIds['username'] === form.value.username)){\r\n      loading.dismiss();\r\n      this.handleError('The username you have choosen is already in use, please select another name!')\r\n    }else{\r\n      this.authService.signup(form.value.username, form.value.email, form.value.password)\r\n      .then(data => {\r\n        const public_hash = sha256(form.value.username);\r\n        const private_hash = sha256(form.value.email);\r\n        const token = this.authService.getActiveUser().getIdToken()\r\n          .then(\r\n            (token: string) => {\r\n              this.userService.addNewUser(token, form.value.username, public_hash, form.value.cardId)\r\n                .subscribe(\r\n                  () => console.log('hi'),\r\n                  error => {\r\n                    loading.dismiss();\r\n                    this.handleError(error.message);\r\n                  }\r\n                );\r\n              this.userService.storeUsers()\r\n                .subscribe(\r\n                  () => console.log('hi again'),\r\n                  error => {\r\n                    loading.dismiss();\r\n                    this.handleError(error.message);\r\n                  }\r\n                );\r\n            }\r\n          );\r\n        console.log(public_hash);\r\n        console.log(this.userService.uIds);\r\n        console.log(this.userService.uId);\r\n        loading.dismiss();\r\n      })\r\n      .catch(error => {\r\n        loading.dismiss();\r\n        const alert = this.alertCtrl.create({\r\n          title: 'Failed to Sign You up!',\r\n          message: 'The email you are attempting to register already exists. Please use a different email!',\r\n          buttons: ['Ok']\r\n        });\r\n        alert.present();\r\n      });\r\n    }\r\n  }\r\n\r\n  private handleError(errorMessage: string){\r\n    const alert = this.alertCtrl.create({\r\n      title: 'An error occured signing you up!',\r\n      message: errorMessage,\r\n      buttons: ['Ok']\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup/signup.ts","import { Component, OnInit, ErrorHandler } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ActionSheetController, AlertController, ToastController, Form, LoadingController } from 'ionic-angular';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { Lock } from '../../models/lock';\r\nimport { AuthService } from '../../services/auth';\r\nimport { LocksService } from '../../services/locks';\r\nimport { Http, Response, Headers, RequestOptions } from '@angular/http';\r\nimport { UserService } from '../../services/user';\r\n\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-add-lock',\r\n  templateUrl: 'add-lock.html',\r\n})\r\nexport class AddLockPage implements OnInit{\r\n  lockForm: FormGroup;\r\n  lock: Lock;\r\n  url: string  = 'http://192.168.1.24:5000';\r\n  headers: Headers = new Headers({ 'Content-Type': 'application/json' });\r\n  options: RequestOptions = new RequestOptions({ headers: this.headers });\r\n  constructor(public navCtrl: NavController, \r\n              public navParams: NavParams, \r\n              public actionSheetCtrl: ActionSheetController, \r\n              public alertCtrl: AlertController, \r\n              public toastCtrl: ToastController,\r\n              public authService: AuthService,\r\n              public locksService: LocksService,\r\n              public loadingCtrl: LoadingController,\r\n              public http: Http,\r\n              public userService: UserService) {\r\n  }\r\n\r\n  ngOnInit(){\r\n    this.initializeForm();\r\n  }\r\n\r\n  onSubmit(){\r\n    const value = this.lockForm.value;\r\n    this.locksService.addLock(value.lock_name, value.public_hash, value.private_hash);\r\n    const loading = this.loadingCtrl.create({\r\n      content: 'Please wait...'\r\n    });\r\n    loading.present();\r\n    this.authService.getActiveUser().getToken()\r\n      .then(\r\n        (token: string) => {\r\n          this.http.post(this.url + '/updateLock', \r\n          {\r\n            \"lock_public_hash\": value.public_hash,\r\n            \"lock_private_hash\": value.private_hash,\r\n            \"remove\": false  \r\n          } ,\r\n          this.options)\r\n            .subscribe((data: any) => {\r\n              console.log(data);\r\n          });\r\n          this.locksService.storeLocks(token)\r\n            .subscribe( \r\n                () => loading.dismiss(),\r\n                error => {\r\n                  loading.dismiss();\r\n                  this.handleError(error.message);\r\n                }\r\n          );\r\n        }\r\n      )\r\n      .catch();\r\n      this.lockForm.reset();\r\n      this.navCtrl.popToRoot();\r\n  }\r\n\r\n  private initializeForm(){\r\n    let lock_name = '';\r\n    let public_hash = '';\r\n    let private_hash = '';\r\n\r\n    this.lockForm = new FormGroup({\r\n      'lock_name' : new FormControl(lock_name, Validators.required),\r\n      'public_hash': new FormControl(public_hash, Validators.required),\r\n      'private_hash': new FormControl(private_hash, Validators.required)\r\n    });\r\n  }\r\n\r\n\r\n  private handleError(errorMessage: string){\r\n    const alert = this.alertCtrl.create({\r\n      title: 'An error occured!',\r\n      message: errorMessage,\r\n      buttons: ['Ok']\r\n    });\r\n    alert.present();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-lock/add-lock.ts","import { Component, OnInit } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, LoadingController, AlertController, Header } from 'ionic-angular';\r\nimport { Http, Request, RequestOptions, Headers } from '@angular/http';\r\nimport { UserService } from '../../services/user';\r\nimport { NgForm } from '@angular/forms';\r\nimport { Lock } from '../../models/lock';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-add-user',\r\n  templateUrl: 'add-user.html',\r\n})\r\nexport class AddUserPage implements OnInit {\r\n  lock: Lock;\r\n  url: string  = 'http://192.168.1.24:5000';\r\n  headers: Headers = new Headers({ 'Content-Type': 'application/json' });\r\n  options: RequestOptions = new RequestOptions({ headers: this.headers });\r\n  constructor(public navCtrl: NavController, \r\n              public navParams: NavParams,\r\n              public http: Http,\r\n              public userService: UserService,\r\n              private loadingCtrl: LoadingController, \r\n              public alertCtrl: AlertController,) {\r\n  }\r\n  \r\n  ngOnInit(){\r\n    this.lock = this.navParams.get('lock');\r\n  }\r\n\r\n  onAddUserSubmit(form: NgForm){\r\n    const loading = this.loadingCtrl.create({\r\n      content: 'Adding user to your lock...'\r\n    });\r\n    loading.present();\r\n    console.log(this.userService.uIds)\r\n    if(this.userService.uIds.some(uId => uId['username'] === form.value.username)){\r\n      const userObj = this.userService.uIds.find(uId => uId['username'] === form.value.username)\r\n      this.http.post(this.url + '/updateUser', \r\n        {\r\n          \"lock_public_hash\": this.lock.public_hash,\r\n          \"lock_private_hash\": this.lock.private_hash,\r\n          \"client_public_hash\": userObj.cardId, \r\n          \"remove\": false  \r\n        },\r\n        this.options)\r\n        .subscribe((data: any) => {\r\n          console.log(data.json());\r\n        });\r\n        loading.dismiss();\r\n      } else{\r\n        loading.dismiss();\r\n        this.handleError('The user you are trying to add does not exist please add an existing user!')\r\n      }\r\n      this.navCtrl.popToRoot();\r\n    }\r\n\r\n    private handleError(errorMessage: string){\r\n      const alert = this.alertCtrl.create({\r\n        title: 'Could not add user!',\r\n        message: errorMessage,\r\n        buttons: ['Ok']\r\n      });\r\n      alert.present();\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-user/add-user.ts","import { Component, OnInit } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, LoadingController, AlertController, PopoverController } from 'ionic-angular';\r\nimport { Lock } from '../../models/lock';\r\nimport { AddUserPage } from '../add-user/add-user';\r\nimport { RemoveUserPage } from '../remove-user/remove-user';\r\nimport { Http, Response, RequestOptions, Headers } from '@angular/http';\r\nimport { LocksService } from '../../services/locks';\r\nimport { AuthService } from '../../services/auth';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-edit-lock',\r\n  templateUrl: 'edit-lock.html',\r\n})\r\nexport class EditLockPage implements OnInit {\r\n  lock: Lock;\r\n  url: string  = 'http://192.168.1.24:5000';\r\n  headers: Headers = new Headers({ 'Content-Type': 'application/json' });\r\n  options: RequestOptions = new RequestOptions({ headers: this.headers });\r\n  constructor(public navCtrl: NavController, \r\n              public navParams: NavParams, \r\n              public http: Http, \r\n              public locksService: LocksService,\r\n              public authService: AuthService,\r\n              public loadingCtrl: LoadingController,\r\n              public alertCtrl: AlertController) {\r\n  }\r\n\r\n  ngOnInit(){\r\n    this.lock = this.navParams.get('lock');\r\n  }\r\n\r\n  onAddUser(){\r\n    this.navCtrl.push(AddUserPage, {lock: this.lock});\r\n  }\r\n\r\n  onRemoveUser(){\r\n    this.navCtrl.push(RemoveUserPage, {lock: this.lock});\r\n  }\r\n\r\n  onRemoveLock(){\r\n    const loading = this.loadingCtrl.create({\r\n      content: 'Please wait...'\r\n    });\r\n    loading.present();\r\n    this.authService.getActiveUser().getToken()\r\n      .then(\r\n        (token: string) => {\r\n          console.log(this.lock);\r\n          this.http.post(this.url + '/updateLock', \r\n          {\r\n            \"lock_public_hash\": this.lock.public_hash,\r\n            \"lock_private_hash\": this.lock.private_hash,\r\n            \"remove\": true  \r\n          },  \r\n          this.options)\r\n          .subscribe((data: any) => {\r\n            console.log(data);\r\n          });\r\n          this.locksService.removeLock(this.lock.lock_name);\r\n          this.locksService.storeLocks(token)\r\n          .subscribe( \r\n              () => loading.dismiss(),\r\n              error => {\r\n                loading.dismiss();\r\n                this.handleError(error.message);\r\n              }\r\n          );\r\n        }\r\n      )\r\n      .catch();\r\n      this.navCtrl.popToRoot();\r\n  }\r\n\r\n\r\n  private handleError(errorMessage: string){\r\n    const alert = this.alertCtrl.create({\r\n      title: 'An error occured!',\r\n      message: errorMessage,\r\n      buttons: ['Ok']\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/edit-lock/edit-lock.ts","import { Component, OnInit } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, LoadingController, AlertController } from 'ionic-angular';\r\nimport { Lock } from '../../models/lock';\r\nimport { Headers, RequestOptions, Http } from '@angular/http';\r\nimport { UserService } from '../../services/user';\r\nimport { NgForm } from '@angular/forms';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-remove-user',\r\n  templateUrl: 'remove-user.html',\r\n})\r\nexport class RemoveUserPage implements OnInit{\r\n  lock: Lock;\r\n  url: string  = 'http://192.168.1.24:5000';\r\n  headers: Headers = new Headers({ 'Content-Type': 'application/json' });\r\n  options: RequestOptions = new RequestOptions({ headers: this.headers });\r\n  constructor(public navCtrl: NavController, \r\n              public navParams: NavParams,\r\n              public http: Http,\r\n              public userService: UserService,\r\n              private loadingCtrl: LoadingController, \r\n              public alertCtrl: AlertController,) {\r\n  }\r\n  \r\n  ngOnInit(){\r\n    this.lock = this.navParams.get('lock');\r\n  }\r\n\r\n  onRemoveUserSubmit(form: NgForm){\r\n    const loading = this.loadingCtrl.create({\r\n      content: 'Adding user to your lock...'\r\n    });\r\n    loading.present();\r\n    if(this.userService.uIds.some(uId => uId['username'] === form.value.username)){\r\n      const userObj = this.userService.uIds.find(uId => uId['username'] === form.value.username)\r\n      this.http.post(this.url + '/updateUser', \r\n        {\r\n          \"lock_public_hash\": this.lock.public_hash,\r\n          \"lock_private_hash\": this.lock.private_hash,\r\n          \"client_public_hash\": userObj.cardId, \r\n          \"remove\": true  \r\n        },\r\n        this.options)\r\n        .subscribe((data: any) => {\r\n          console.log(data.json());\r\n        });\r\n        loading.dismiss();\r\n      } else{\r\n        loading.dismiss();\r\n        this.handleError('The user you are trying to remove does not exist please add an existing user!')\r\n      }\r\n      this.navCtrl.popToRoot();\r\n    }\r\n\r\n    private handleError(errorMessage: string){\r\n      const alert = this.alertCtrl.create({\r\n        title: 'Could not remove user!',\r\n        message: errorMessage,\r\n        buttons: ['Ok']\r\n      });\r\n      alert.present();\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/remove-user/remove-user.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { SigninPage } from '../signin/signin';\nimport { SignupPage } from '../signup/signup';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-welcome',\n  templateUrl: 'welcome.html',\n})\nexport class WelcomePage {\n\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\n  }\n\n  onSignin(){\n    this.navCtrl.push(SigninPage);\n  }\n\n  onSignup(){\n    this.navCtrl.push(SignupPage);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/welcome/welcome.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 212;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 212\n// module chunks = 9","var map = {\n\t\"../pages/add-lock/add-lock.module\": [\n\t\t853,\n\t\t8\n\t],\n\t\"../pages/add-new-lock/add-new-lock.module\": [\n\t\t854,\n\t\t7\n\t],\n\t\"../pages/add-user/add-user.module\": [\n\t\t855,\n\t\t6\n\t],\n\t\"../pages/edit-lock/edit-lock.module\": [\n\t\t856,\n\t\t5\n\t],\n\t\"../pages/edit-permissions/edit-permissions.module\": [\n\t\t857,\n\t\t4\n\t],\n\t\"../pages/remove-user/remove-user.module\": [\n\t\t858,\n\t\t3\n\t],\n\t\"../pages/signin/signin.module\": [\n\t\t859,\n\t\t2\n\t],\n\t\"../pages/signup/signup.module\": [\n\t\t860,\n\t\t1\n\t],\n\t\"../pages/welcome/welcome.module\": [\n\t\t861,\n\t\t0\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 257;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 257\n// module chunks = 9","import firebase from 'firebase';\r\n\r\nexport class AuthService{\r\n\r\n    signup(username: string, email: string, password: string){\r\n        return firebase.auth().createUserWithEmailAndPassword(email, password);   \r\n    }\r\n\r\n    signin(email: string, password: string){\r\n        return firebase.auth().signInWithEmailAndPassword(email, password);\r\n    }\r\n    \r\n    logout(){\r\n        return firebase.auth().signOut();\r\n    }\r\n\r\n    getActiveUser(){\r\n        return firebase.auth().currentUser;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/auth.ts","import { Component, Injectable } from '@angular/core';\r\nimport { NavController, NavParams, PopoverController, LoadingController, AlertController, ViewController } from 'ionic-angular';\r\nimport { NFC, Ndef } from '@ionic-native/nfc';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { AddLockPage } from '../add-lock/add-lock';\r\nimport { LocksService } from '../../services/locks';\r\nimport { AuthService } from '../../services/auth';\r\nimport { Lock } from '../../models/lock';\r\nimport { EditLockPage } from '../edit-lock/edit-lock';\r\nimport { UserService } from '../../services/user';\r\nimport { UserId } from '../../models/uid';\r\nimport { User } from 'firebase';\r\n\r\n@Component({\r\n  selector: 'page-home',\r\n  templateUrl: 'home.html'\r\n})\r\n\r\nexport class HomePage {\r\n  locks: Lock[] = [];  \r\n  uid: UserId;\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public locksService: LocksService, private popoverCtrl: PopoverController, private loadingCtrl: LoadingController,\r\n    private alertCtrl: AlertController, private authService: AuthService, private viewCtrl: ViewController, private nfc: NFC, private ndef: Ndef, private userService: UserService) {\r\n      this.uid = this.userService.uId;\r\n      console.log(this.userService.uId)\r\n  }\r\n\r\n  ionViewWillEnter (){\r\n    this.userService.getUsers()\r\n      .subscribe();\r\n  }\r\n\r\n  onLoadLocks(){\r\n    const loading = this.loadingCtrl.create({\r\n      content: 'Getting locks please wait...'\r\n    });\r\n    loading.present();\r\n    const token = this.authService.getActiveUser().getIdToken()\r\n    .then(\r\n      (token:string) => {\r\n        this.locksService.fetchLocks(token)\r\n          .subscribe(\r\n            (list: Lock[]) => {\r\n              loading.dismiss();\r\n              if(list){\r\n                this.locks = list;\r\n              }else{\r\n                this.locks = [];\r\n              }\r\n            },\r\n            error => {\r\n              loading.dismiss();\r\n              this.handleError(error.json().error); \r\n            }\r\n          );\r\n        }\r\n      ); \r\n    this.locks = this.locksService.getLocks();\r\n  }\r\n\r\n  onUnlock(){\r\n    this.nfc.addNdefFormatableListener(() => {\r\n      console.log('successfully attached ndef listener');\r\n    }, (err) => {\r\n      console.log('error attaching ndef listener', err);\r\n    }).subscribe((event) => {\r\n      console.log('received ndef message. the tag contains: ', event.tag);\r\n      console.log('decoded tag id', this.nfc.bytesToHexString(event.tag.id));\r\n    \r\n      let message = this.ndef.textRecord(this.userService.uId.username, \"English\", \"Text\")\r\n      this.nfc.write([message])\r\n        .then()\r\n        .catch();\r\n    });\r\n  }\r\n\r\n  onAddNewLock(){\r\n    this.navCtrl.push(AddLockPage);\r\n    \r\n  }\r\n\r\n  onLoadLock(lock: Lock){\r\n    this.navCtrl.push(EditLockPage, {lock: lock});\r\n  }\r\n\r\n  private handleError(errorMessage: string){\r\n    const alert = this.alertCtrl.create({\r\n      title: 'An error occured loading your locks!',\r\n      message: errorMessage,\r\n      buttons: ['Ok']\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\n\n/**\n * Generated class for the AddNewLockPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-add-new-lock',\n  templateUrl: 'add-new-lock.html',\n})\nexport class AddNewLockPage {\n\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad AddNewLockPage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-new-lock/add-new-lock.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\n\n/**\n * Generated class for the EditPermissionsPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-edit-permissions',\n  templateUrl: 'edit-permissions.html',\n})\nexport class EditPermissionsPage {\n\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad EditPermissionsPage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/edit-permissions/edit-permissions.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\n\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\nimport { SigninPage } from '../pages/signin/signin';\nimport { SignupPage } from '../pages/signup/signup';\nimport { AddNewLockPage } from '../pages/add-new-lock/add-new-lock';\nimport { Http, HttpModule } from '@angular/http'; \nimport { AuthService } from '../services/auth';\nimport { WelcomePage } from '../pages/welcome/welcome';\nimport { AddLockPage } from '../pages/add-lock/add-lock';\nimport { LocksService } from '../services/locks';\nimport { EditLockPage } from '../pages/edit-lock/edit-lock';\nimport { EditPermissionsPage } from '../pages/edit-permissions/edit-permissions';\nimport { UserService } from '../services/user';\nimport { NFC, Ndef } from '@ionic-native/nfc';\nimport { AddUserPage } from '../pages/add-user/add-user';\nimport { RemoveUserPage } from '../pages/remove-user/remove-user';\nimport { HTTP } from '@ionic-native/http';\n\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage,\n    SigninPage,\n    SignupPage,\n    AddNewLockPage,\n    WelcomePage, \n    AddLockPage,\n    EditLockPage,\n    EditPermissionsPage,\n    AddUserPage,\n    RemoveUserPage\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    HttpModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage,\n    SigninPage,\n    SignupPage,\n    AddNewLockPage,\n    WelcomePage,\n    AddLockPage,\n    EditLockPage,\n    EditPermissionsPage,\n    AddUserPage,\n    RemoveUserPage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n    AuthService,\n    LocksService, \n    UserService,\n    NFC, \n    Ndef\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Http, Response } from '@angular/http';\r\nimport { AuthService } from './auth';\r\nimport { Injectable } from '@angular/core';\r\nimport { UserId } from '../models/uid';\r\n\r\n\r\n@Injectable()\r\nexport class UserService{\r\n    public uId: UserId = new UserId('', '', '');\r\n    public uIds: UserId[] = [];\r\n    constructor(private http: Http, private authService: AuthService){\r\n    }\r\n    \r\n    storeUsers(){\r\n        return this.http.put('https://lockchain-94649.firebaseio.com/users.json', this.uIds)\r\n        .map((res: Response) => {\r\n            return res.json();\r\n        })\r\n    }\r\n    \r\n    getUsers(){\r\n        return this.http.get('https://lockchain-94649.firebaseio.com/users.json')\r\n        .map((res: Response) => {\r\n            const users: UserId[] = res.json() ? res.json() : [];\r\n            return res.json();\r\n        })\r\n        .do(\r\n            (users: UserId[]) => {\r\n                if(users){\r\n                    this.uIds = users;\r\n                }\r\n                else{\r\n                    this.uIds = [];\r\n                }\r\n            }\r\n        )\r\n    }\r\n    addNewUser(token: string, username: string, public_hash: string, cardId: string){\r\n        this.uId.publich_hash = public_hash;\r\n        this.uId.username = username;\r\n        this.uId.cardId = cardId;\r\n        this.uIds.push(this.uId);\r\n        const userID = this.authService.getActiveUser().uid;\r\n        return this.http.put('https://lockchain-94649.firebaseio.com/' + userID + '/user.json?auth='+token, this.uId)\r\n        .map((res: Response) => {\r\n            return res.json();\r\n        })\r\n    }\r\n\r\n    getReturingUser(token: string){\r\n        const userID = this.authService.getActiveUser().uid;\r\n        return this.http.get('https://lockchain-94649.firebaseio.com/' + userID + '/user.json?auth='+token)\r\n            .map((res: Response) => {\r\n                const user: UserId = res.json() ? res.json(): null;\r\n                return res.json();\r\n            })\r\n            .do(\r\n                (user: UserId) => {\r\n                    console.log(user);\r\n                    if(user){\r\n                        this.uId = user;\r\n                        console.log(this.uId);\r\n                    }\r\n                }\r\n            )\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/user.ts","export class Lock{\r\n    constructor(public lock_name: string, public public_hash: string, public private_hash: string){}\r\n    \r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/lock.ts","export class UserId{\r\n    constructor(public username: string, public publich_hash: string, public cardId: string){\r\n        \r\n    }\r\n    \r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/uid.ts","import { Component, ViewChild } from '@angular/core';\nimport { Platform, NavController, MenuController, AlertController } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { HomePage } from '../pages/home/home';\nimport { SigninPage } from '../pages/signin/signin';\nimport { SignupPage } from '../pages/signup/signup';\nimport { WelcomePage } from '../pages/welcome/welcome';\nimport firebase from 'firebase';\nimport { AuthService } from '../services/auth';\nimport { UserService } from '../services/user';\n\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any = HomePage;\n  signinPage = SigninPage;\n  signupPage = SignupPage;\n  welcomePage = WelcomePage;\n  isAuthenticated = false;\n  @ViewChild('nav') nav: NavController;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen, public menuCtrl: MenuController, private authService: AuthService, private usersService: UserService, private alertCtrl: AlertController) {\n\n    firebase.initializeApp({\n      apiKey: \"AIzaSyCrMN5AAX4wZRDVhxDz6L-Xq_RyCfExQIU\",\n      authDomain: \"lockchain-94649.firebaseapp.com\"\n    });\n    firebase.auth().onAuthStateChanged(user => {\n      if(user){\n        this.isAuthenticated = true;\n        this.authService.getActiveUser().getToken()\n        .then(\n          (token: string) => {\n            this.usersService.getReturingUser(token)\n            .subscribe( \n              () => {},\n              error => {\n                this.handleError(error.message);\n              }\n            );  \n            console.log(this.usersService.uId);\n            this.usersService.getUsers()\n              .subscribe(\n                () => \n                console.log(this.usersService.uIds)\n              );\n          }\n      )\n        this.rootPage = HomePage;\n      }else{\n        this.isAuthenticated = false;\n        this.rootPage = WelcomePage;\n      }\n    });\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n\n  onLoad(page: any){\n    this.nav.setRoot(page);\n    this.menuCtrl.close();\n  }\n\n  onLogout(){\n    this.authService.logout();\n    this.menuCtrl.close();\n    this.nav.setRoot(SigninPage);\n  }\n\n  private handleError(errorMessage: string){\n    const alert = this.alertCtrl.create({\n      title: 'An error occured loading your locks!',\n      message: errorMessage,\n      buttons: ['Ok']\n    });\n    alert.present();\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts"],"sourceRoot":""}